@page
@model FinanceSolution.Inteface.Pages.MetodoPagamento.IndexModel
@{
    ViewData["Title"] = "Index";
    Layout = "~/Pages/Shared/_Layout.cshtml";
}

@Html.AntiForgeryToken()

<div class="row">
    <div class="col-lg-12">
        <p>
            <a asp-page="Create" class="btn btn-primary">Novo</a>
        </p>
        <div class="col-md-12">
            <div class="panel panel-filled">
                <div class="panel-heading">
                    <div class="panel-tools">
                        <a class="panel-toggle"><i class="fa fa-chevron-up"></i></a>
                    </div>
                    Metodos de Pagameto
                </div>
                <div class="panel-body">
                    <table id="pagto" class="table table-striped table-hover table-responsive-sm">
                        <thead>
                            <tr>
                                <th>Codigo</th>
                                <th>Descricao</th>
                            </tr>
                        </thead>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>

@section scripts{
    <script>
    $(document).ready(function () {
        var table = $("pagto").DataTable({
            serverSide: true,
            lengthChange: false,
            processing: true,
            language: {
                @* url: "//cdn.datatables.net/plug-ins/1.10.20/i18n/Portuguese-Brasil.json" *@
                url: "/language/ptbr.json",
            },
            pageLength: 15,
            order: [],
            rowId: "Id",
            ajax: {
                url: "/MetodoPagamento/Index?handler=Pagto",
                type: "POST",
                headers: {
                    RequestVerificationToken: $('input[name="__RequestVerificationToken"]').val(),
                },
                async: true,
            },
            columnDefs: [
                {
                    className: "dt-center", 
                    targets: "_all"
                }
            ],
            columns: [
                {
                    data: "Codigo",
                    bSortable: false,
                    autoWidth: true,
                },
                {
                    data: "Descricao",
                    bSortable: false,
                    autoWidth: true,
                }
            ]
        });
    });
</script>
}